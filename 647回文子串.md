# 思路

## 中心扩展

```java
//回文子串，使用中心扩展法
//中心扩展需要选择回文中心
//回文中心可能是奇数个，也可能是偶数个，我们要依次判断
//使用LR双指针就能避免重复的奇数偶数中心点的选取
//首先需要判断中心点有哪些
//比如"abc"
//回文中心奇数：第0，0个，偶数的话选第0，1个
//回文中心奇数：第1，1个，偶数的话选第1，2个
//回文中心奇数：第2，2个
//所以长度为n的字符串，回文中心得选取有2*n-1个
//那么我们分别判断以这些回文中心，从左从右能到达的最远距离
//也就是以回文中心为中心点，左面的值==右面的值，若等的话，回文子串个数+1
//然后左指针再往左移，右指针再往右移，再继续判断，直到回文中心的个数取完为止
//时间o(n^2),空间o(1)
class Solution {
    public int countSubstrings(String s) {
       int len=s.length();
       int n=2*len-1;
       int res=0;
       for(int i=0;i<n;i++){
           int L=i/2,R=i%2+L;
           while(L>=0 && R<len){
               if(s.charAt(L)==s.charAt(R)){
                   res++;
                   L--;
                   R++;
               }else break;//发现了不一样的就立即t
           }
       }
       return res;
    }
}
```

